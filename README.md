# ComfyUI-SPoletNodes
A set of several nodes for processing in ComfyUI

[RU **╨а╤Г╤Б╤Б╨║╨╕╨╣**](#ru) | [CN **ф╕нцЦЗ**](#cn) | [IN **рд╣рд┐рдиреНрджреА**](#in) | [EN **English**](#en)

---

<a id="ru"></a>
## RU ╨а╤Г╤Б╤Б╨║╨╕╨╣

**╨Я╨╛╨╗╨╜╤Л╨╣ ╨╜╨░╨▒╨╛╤А ╨┐╤А╨╛╤Д╨╡╤Б╤Б╨╕╨╛╨╜╨░╨╗╤М╨╜╤Л╤Е ╨╕╨╜╤Б╤В╤А╤Г╨╝╨╡╨╜╤В╨╛╨▓ ╨┤╨╗╤П ComfyUI: ╤А╨░╨▒╨╛╤В╨░ ╤Б ╨▓╨╕╨┤╨╡╨╛, ╨╕╨╖╨╛╨▒╤А╨░╨╢╨╡╨╜╨╕╤П╨╝╨╕, ╨┐╨░╨╝╤П╤В╤М╤О ╨╕ ╤Д╨░╨╣╨╗╨╛╨▓╨╛╨╣ ╤Б╨╕╤Б╤В╨╡╨╝╨╛╨╣.**

### ЁЯУж ╨б╨╛╤Б╤В╨░╨▓ ╨┐╨░╨║╨╡╤В╨░ (6 ╨Э╨╛╨┤)

#### 1. ЁЯОм Enhanced Video Save'n'Preview
╨Я╤А╨╛╨┤╨▓╨╕╨╜╤Г╤В╨░╤П ╨╜╨╛╨┤╨░ ╨┤╨╗╤П ╨┐╤А╨╡╨┤╨┐╤А╨╛╤Б╨╝╨╛╤В╤А╨░ ╨╕ ╤Б╨╛╤Е╤А╨░╨╜╨╡╨╜╨╕╤П ╨▓╨╕╨┤╨╡╨╛.
- **╨д╨╛╤А╨╝╨░╤В╤Л:** MP4 (H264/H265), WebM (VP9), GIF, WebP.
- **╨д╤Г╨╜╨║╤Ж╨╕╨╕:** ╨Р╨▓╤В╨╛╨┐╨╗╨╡╨╣, ╨╖╨░╤Ж╨╕╨║╨╗╨╕╨▓╨░╨╜╨╕╨╡ (loop), ╨╛╤В╨║╨╗╤О╤З╨╡╨╜╨╕╨╡ ╨╖╨▓╤Г╨║╨░ (mute), ╨│╨╕╤Б╤В╨╛╨│╤А╨░╨╝╨╝╨░ ╤П╤А╨║╨╛╤Б╤В╨╕.
- **╨г╨┤╨╛╨▒╤Б╤В╨▓╨╛:** ╨Т╤Б╤В╤А╨╛╨╡╨╜╨╜╤Л╨╣ ╨▒╤А╨░╤Г╨╖╨╡╤А (╨║╨╜╨╛╨┐╨║╨░ `ЁЯУВ Choose Dir`) ╨┤╨╗╤П ╨▓╤Л╨▒╨╛╤А╨░ ╨┐╨░╨┐╨║╨╕ ╤Б╨╛╤Е╤А╨░╨╜╨╡╨╜╨╕╤П ╨┐╤А╤П╨╝╨╛ ╨▓ ╨╕╨╜╤В╨╡╤А╤Д╨╡╨╣╤Б╨╡.

#### 2. ЁЯУП Image Size Info & Edit
╨Ш╨╜╤Б╤В╤А╤Г╨╝╨╡╨╜╤В ╨┤╨╗╤П ╨║╨╛╨╜╤В╤А╨╛╨╗╤П ╤А╨░╨╖╤А╨╡╤И╨╡╨╜╨╕╤П ╨╕╨╖╨╛╨▒╤А╨░╨╢╨╡╨╜╨╕╨╣.
- **╨Ш╨╜╤Д╨╛-╨┐╨░╨╜╨╡╨╗╤М:** ╨Я╨╛╨║╨░╨╖╤Л╨▓╨░╨╡╤В ╤В╨╡╨║╤Г╤Й╨╡╨╡ ╤А╨░╨╖╤А╨╡╤И╨╡╨╜╨╕╨╡ ╨▓╤Е╨╛╨┤╤П╤Й╨╡╨│╨╛ ╨╕╨╖╨╛╨▒╤А╨░╨╢╨╡╨╜╨╕╤П.
- **Smart Resizing:** ╨Т╨╛╨╖╨╝╨╛╨╢╨╜╨╛╤Б╤В╤М ╨╕╨╖╨╝╨╡╨╜╨╕╤В╤М ╤А╨░╨╖╨╝╨╡╤А ╤Б ╤И╨░╨│╨╛╨╝ (Step). ╨Ю╤З╨╡╨╜╤М ╨┐╨╛╨╗╨╡╨╖╨╜╨╛ ╨┤╨╗╤П ╨┐╨╛╨┤╨│╨╛╨╜╨║╨╕ ╨┐╨╛╨┤ ╤В╤А╨╡╨▒╨╛╨▓╨░╨╜╨╕╤П SDXL/Flux (╨║╤А╨░╤В╨╜╨╛╤Б╤В╤М 8, 16, 64).
- **╨Ш╨╜╤В╨╡╤А╨┐╨╛╨╗╤П╤Ж╨╕╤П:** ╨Т╤Л╨▒╨╛╤А ╨░╨╗╨│╨╛╤А╨╕╤В╨╝╨░ (Bicubic, Lanczos, Nearest ╨╕ ╨┤╤А.).
- **Dynamic UI:** ╨Э╨░╤Б╤В╤А╨╛╨╣╨║╨╕ ╤А╨╡╤Б╨░╨╣╨╖╨░ ╤Б╨║╤А╤Л╤В╤Л, ╨╡╤Б╨╗╨╕ ╤Д╤Г╨╜╨║╤Ж╨╕╤П ╨╛╤В╨║╨╗╤О╤З╨╡╨╜╨░.

#### 3. ЁЯУ╣ Video Batch Crossfade
╨б╨║╨╗╨╡╨╣╨║╨░ ╨▒╨░╤В╤З╨╡╨╣ ╨║╨░╨┤╤А╨╛╨▓ ╤Б ╨┐╨╗╨░╨▓╨╜╤Л╨╝╨╕ ╨┐╨╡╤А╨╡╤Е╨╛╨┤╨░╨╝╨╕.
- ╨Я╨╛╨╖╨▓╨╛╨╗╤П╨╡╤В ╤Б╨╛╨╡╨┤╨╕╨╜╤П╤В╤М ╤Д╤А╨░╨│╨╝╨╡╨╜╤В╤Л ╨░╨╜╨╕╨╝╨░╤Ж╨╕╨╕ (╨╜╨░╨┐╤А╨╕╨╝╨╡╤А, ╨╕╨╖ AnimateDiff) ╨▒╨╡╨╖ ╤А╨╡╨╖╨║╨╕╤Е ╤Б╨║╨░╤З╨║╨╛╨▓.
- ╨Я╨╛╨┤╨┤╨╡╤А╨╢╨║╨░ ╨║╤А╨╕╨▓╤Л╤Е ╨┐╨╡╤А╨╡╤Е╨╛╨┤╨╛╨▓: Ease-In, Ease-Out, Linear.
- ╨Р╨▓╤В╨╛╨╝╨░╤В╨╕╤З╨╡╤Б╨║╨╛╨╡ ╤Б╨╛╨╖╨┤╨░╨╜╨╕╨╡ ╨▓╤Е╨╛╨┤╨╜╤Л╤Е ╤Б╨╗╨╛╤В╨╛╨▓ ╨┐╤А╨╕ ╨╕╨╖╨╝╨╡╨╜╨╡╨╜╨╕╨╕ ╨║╨╛╨╗╨╕╤З╨╡╤Б╤В╨▓╨░ ╨▒╨░╤В╤З╨╡╨╣.

#### 4. ЁЯОе Video Concat (FFmpeg)
╨Ь╨╛╤Й╨╜╨░╤П ╤Б╨║╨╗╨╡╨╣╨║╨░ ╨│╨╛╤В╨╛╨▓╤Л╤Е ╨▓╨╕╨┤╨╡╨╛╤Д╨░╨╣╨╗╨╛╨▓.
- **Smart Color Match:** ╨г╨╝╨╜╨░╤П ╨┐╨╛╨┤╨│╨╛╨╜╨║╨░ ╤П╤А╨║╨╛╤Б╤В╨╕, ╨║╨╛╨╜╤В╤А╨░╤Б╤В╨░ ╨╕ ╨╜╨░╤Б╤Л╤Й╨╡╨╜╨╜╨╛╤Б╤В╨╕ ╤А╨░╨╖╨╜╤Л╤Е ╨║╨╗╨╕╨┐╨╛╨▓ ╨┐╨╛╨┤ ╨╛╨┤╨╕╨╜ ╤Н╤В╨░╨╗╨╛╨╜.
- **Crossfade:** ╨Я╨╗╨░╨▓╨╜╤Л╨╡ ╨┐╨╡╤А╨╡╤Е╨╛╨┤╤Л ╨╝╨╡╨╢╨┤╤Г ╨▓╨╕╨┤╨╡╨╛╤Д╨░╨╣╨╗╨░╨╝╨╕.
- **╨Т╤Е╨╛╨┤:** ╨Я╤А╨╕╨╜╨╕╨╝╨░╨╡╤В ╤Б╨┐╨╕╤Б╨║╨╕ ╤Д╨░╨╣╨╗╨╛╨▓ ╨╕╨╗╨╕ ╨┐╤Г╤В╨╕ ╨║ ╤Ж╨╡╨╗╤Л╨╝ ╨┐╨░╨┐╨║╨░╨╝.

#### 5. ЁЯТ╛ Save Images & Preview (Passthrough)
╨б╨╛╤Е╤А╨░╨╜╨╡╨╜╨╕╨╡ ╨╕╨╖╨╛╨▒╤А╨░╨╢╨╡╨╜╨╕╨╣ ╨▒╨╡╨╖ ╨┐╤А╨╡╤А╤Л╨▓╨░╨╜╨╕╤П ╤Ж╨╡╨┐╨╛╤З╨║╨╕.
- ╨а╨░╨▒╨╛╤В╨░╨╡╤В ╨║╨░╨║ ╤А╨╡╨╗╨╡ (Passthrough): ╤Б╨╛╤Е╤А╨░╨╜╤П╨╡╤В ╨╕ ╨┐╨╡╤А╨╡╨┤╨░╨╡╤В ╨╕╨╖╨╛╨▒╤А╨░╨╢╨╡╨╜╨╕╨╡ ╨┤╨░╨╗╤М╤И╨╡.
- ╨Т╤Б╤В╤А╨╛╨╡╨╜╨╜╤Л╨╣ ╨▒╤А╨░╤Г╨╖╨╡╤А ╨┐╨░╨┐╨╛╨║.
- ╨б╨╛╨╖╨┤╨░╨╜╨╕╨╡ ╨┐╨╛╨┤╨┐╨░╨┐╨╛╨║ ╤Б ╤В╨╡╨║╤Г╤Й╨╡╨╣ ╨┤╨░╤В╨╛╨╣.

#### 6. ЁЯз╣ Ultimate Memory Cleaner
╨б╨╕╤Б╤В╨╡╨╝╨╜╨░╤П ╤Г╤В╨╕╨╗╨╕╤В╨░ ╨┤╨╗╤П ╨│╨╗╤Г╨▒╨╛╨║╨╛╨╣ ╨╛╤З╨╕╤Б╤В╨║╨╕ ╨┐╨░╨╝╤П╤В╨╕.
- ╨Т╤Л╨│╤А╤Г╨╢╨░╨╡╤В ╨╝╨╛╨┤╨╡╨╗╨╕ (Unload Models).
- ╨з╨╕╤Б╤В╨╕╤В ╨║╤Н╤И PyTorch (Soft Cache).
- ╨Т╤Л╨╖╤Л╨▓╨░╨╡╤В ╤Б╨▒╨╛╤А╤Й╨╕╨║ ╨╝╤Г╤Б╨╛╤А╨░ Python (GC).
- **╨в╨░╨╣╨╝╨╡╤А:** ╨Ч╨░╨┤╨╡╤А╨╢╨║╨░ ╨┤╨╗╤П ╨╛╤Е╨╗╨░╨╢╨┤╨╡╨╜╨╕╤П GPU ╨╝╨╡╨╢╨┤╤Г ╨│╨╡╨╜╨╡╤А╨░╤Ж╨╕╤П╨╝╨╕.

---

### ЁЯУе ╨г╤Б╤В╨░╨╜╨╛╨▓╨║╨░

**╨Т╨░╤А╨╕╨░╨╜╤В 1: ComfyUI Manager**
╨Э╨░╨╣╨┤╨╕╤В╨╡ ╨┐╨░╨║╨╡╤В ╨┐╨╛ ╨╕╨╝╨╡╨╜╨╕ `ComfyUI-SPoletNodes` ╨╕ ╨╜╨░╨╢╨╝╨╕╤В╨╡ Install (╨┐╨╛╤Б╨╗╨╡ ╨┤╨╛╨▒╨░╨▓╨╗╨╡╨╜╨╕╤П ╨▓ ╤А╨╡╨╡╤Б╤В╤А).

**╨Т╨░╤А╨╕╨░╨╜╤В 2: ╨Т╤А╤Г╤З╨╜╤Г╤О (Git Clone)**
1. ╨Ю╤В╨║╤А╨╛╨╣╤В╨╡ ╤В╨╡╤А╨╝╨╕╨╜╨░╨╗ ╨▓ ╨┐╨░╨┐╨║╨╡ `custom_nodes`:
   ```bash
   cd ComfyUI/custom_nodes
   ```
   
2. ╨Ъ╨╗╨╛╨╜╨╕╤А╤Г╨╣╤В╨╡ ╤А╨╡╨┐╨╛╨╖╨╕╤В╨╛╤А╨╕╨╣:
   ```bash
   git clone https://github.com/SergPoletaev/ComfyUI-SPoletNodes.git
   ```
   
4. ╨Я╨╡╤А╨╡╨╖╨░╨┐╤Г╤Б╤В╨╕╤В╨╡ ComfyUI.

---

### тЪая╕П ╨в╤А╨╡╨▒╨╛╨▓╨░╨╜╨╕╤П
**FFmpeg**: ╨Ф╨╛╨╗╨╢╨╡╨╜ ╨▒╤Л╤В╤М ╤Г╤Б╤В╨░╨╜╨╛╨▓╨╗╨╡╨╜ ╨▓ ╤Б╨╕╤Б╤В╨╡╨╝╨╡ ╨╕ ╨┤╨╛╤Б╤В╤Г╨┐╨╡╨╜ ╤З╨╡╤А╨╡╨╖ ╨║╨╛╨╝╨░╨╜╨┤╨╜╤Г╤О ╤Б╤В╤А╨╛╨║╤Г (╨┤╨╗╤П ╤А╨░╨▒╨╛╤В╤Л ╨╜╨╛╨┤ Video Concat ╨╕ Enhanced Video).

---
<a id="cn"></a>
## CN ф╕нцЦЗ

# ComfyUI-SPoletNodes

**ComfyUI чЪДхЕихеЧф╕Уф╕Ъх╖ехЕ╖я╝ЪшзЖщвСуАБхЫ╛хГПуАБхЖЕхнШчобчРЖхТМцЦЗф╗╢ч│╗ч╗ЯуАВ**

---

## ЁЯУж хеЧф╗╢хЖЕхо╣ (6ф╕кшКВчВ╣)

### 1. ЁЯОм Enhanced Video Save'n'Preview (хвЮх╝║хЮЛшзЖщвСф┐ЭхнШф╕ОщвДшзИ)
чФиф║ОщвДшзИхТМф┐ЭхнШшзЖщвСчЪДщлШч║зшКВчВ╣уАВ
- **ца╝х╝ПцФпцМБ:** MP4 (H264/H265), WebM (VP9), GIF, WebP.
- **хКЯшГ╜:** шЗкхКицТнцФ╛уАБх╛кчОпцТнцФ╛уАБщЭЩщЯ│уАБф║ох║жчЫ┤цЦ╣хЫ╛уАВ
- **ф╛┐цН╖цАз:** хЖЕч╜оцЦЗф╗╢ц╡ПшзИхЩия╝И`ЁЯУВ Choose Dir` цМЙщТоя╝Йя╝МхПпчЫ┤цОехЬичХМщЭвф╕нщАЙцЛйф┐ЭхнШцЦЗф╗╢хд╣уАВ

### 2. ЁЯУП Image Size Info & Edit (хЫ╛хГПх░║хп╕ф┐бцБпф╕Оч╝Цш╛С)
чФиф║ОцОзхИ╢хЫ╛хГПхИЖш╛ичОЗчЪДх╖ехЕ╖уАВ
- **ф┐бцБпщЭвцЭ┐:** цШ╛чд║ш╛УхЕехЫ╛хГПчЪДх╜УхЙНхИЖш╛ичОЗуАВ
- **цЩ║шГ╜ш░ГцХ┤хдзх░П (Smart Resizing):** цФпцМБцМЙцнещХ┐ (Step) ш░ГцХ┤хдзх░ПуАВщЭЮх╕╕щАВхРИ SDXL/Flux чЪДшжБц▒Вя╝И8, 16, 64 чЪДхАНцХ░я╝ЙуАВ
- **цПТхА╝чоЧц│Х:** щАЙцЛйчоЧц│Хя╝ИхПМф╕ЙцмбуАБLanczosуАБцЬАш┐СщВ╗чнЙя╝ЙуАВ
- **хКицАБчХМщЭв:** хжВцЮЬчжБчФишпехКЯшГ╜я╝Мш░ГцХ┤хдзх░ПчЪДшо╛ч╜ох░ЖшвлщЪРшЧПуАВ

### 3. ЁЯУ╣ Video Batch Crossfade (шзЖщвСцЙ╣цмбф║дхПЙц╖бхЕец╖бхЗ║)
щАЪш┐Зх╣│ц╗Сш┐Зц╕бцЛ╝цОехЫ╛хГПцЙ╣цмбуАВ
- хЕБшо╕ш┐ЮцОехКичФ╗чЙЗцо╡я╝Иф╛ЛхжВцЭешЗк AnimateDiffя╝Йя╝МщБ┐хЕНчФ╗щЭвчкБхПШуАВ
- цФпцМБш┐Зц╕бцЫ▓ч║┐я╝ЪEase-In, Ease-Out, LinearуАВ
- цЫ┤цФ╣цЙ╣цмбцХ░щЗПцЧ╢шЗкхКихИЫх╗║ш╛УхЕецз╜уАВ

### 4. ЁЯОе Video Concat (FFmpeg) (шзЖщвСхРИх╣╢)
х╝║хдзчЪДшзЖщвСцЦЗф╗╢цЛ╝цОех╖ехЕ╖уАВ
- **цЩ║шГ╜шЙ▓х╜йхМ╣щЕН (Smart Color Match):** цЩ║шГ╜ш░ГцХ┤ф╕НхРМхЙкш╛СчЪДф║ох║жуАБхп╣цпФх║жхТМще▒хТМх║жя╝Мф╜┐хЕ╢ф╕ОхПВшАГшзЖщвСф╕АшЗ┤уАВ
- **ф║дхПЙц╖бхЕец╖бхЗ║ (Crossfade):** шзЖщвСцЦЗф╗╢ф╣ЛщЧ┤чЪДх╣│ц╗Сш┐Зц╕буАВ
- **ш╛УхЕе:** цОехПЧцЦЗф╗╢хИЧшбицИЦцЦЗф╗╢хд╣ш╖пх╛ДуАВ

### 5. ЁЯТ╛ Save Images & Preview (Passthrough) (ф┐ЭхнШхЫ╛хГПф╕ОщвДшзИ - щАПф╝а)
хЬиф╕Нф╕нцЦнх╖еф╜Ьц╡БчЪДцГЕхЖ╡ф╕Лф┐ЭхнШхЫ╛хГПуАВ
- ф╜Ьф╕║ф╕нч╗з (Passthrough) х╖еф╜Ья╝Ъф┐ЭхнШх╣╢ч╗зч╗нф╝ащАТхЫ╛хГПуАВ
- хЖЕч╜оцЦЗф╗╢хд╣ц╡ПшзИхЩиуАВ
- шЗкхКихИЫх╗║х╕жцЬЙх╜УхЙНцЧецЬЯчЪДхнРцЦЗф╗╢хд╣уАВ

### 6. ЁЯз╣ Ultimate Memory Cleaner (ч╗ИцЮБхЖЕхнШц╕ЕчРЖхЩи)
чФиф║Оц╖▒х║жц╕ЕчРЖхЖЕхнШчЪДч│╗ч╗ЯхоЮчФичиЛх║ПуАВ
- хН╕ш╜╜цибхЮЛ (Unload Models)уАВ
- ц╕ЕчРЖ PyTorch ч╝УхнШ (Soft Cache)уАВ
- ш░ГчФи Python хЮГхЬ╛хЫЮцФ╢ (GC)уАВ
- **шобцЧ╢хЩи:** хЬичФЯцИРф╣ЛщЧ┤ф╕║ GPU щЩНц╕йцПРф╛Ых╗╢ш┐ЯуАВ

---

## ЁЯУе хоЙшгЕ

### цЦ╣ц│Х 1: ComfyUI Manager
цРЬч┤в `ComfyUI-SPoletNodes` х╣╢чВ╣хЗ╗хоЙшгЕуАВ

### цЦ╣ц│Х 2: цЙЛхКихоЙшгЕ (Git Clone)

1. хЬи `custom_nodes` цЦЗф╗╢хд╣ф╕нцЙУх╝Ач╗Ичлпя╝Ъ

```bash
cd ComfyUI/custom_nodes
```

2. хЕЛщЪЖхнШхВих║Уя╝Ъ
```bash
git clone https://github.com/SergPoletaev/ComfyUI-SPoletNodes.git
```

3. щЗНхРп ComfyUI.

---

### тЪая╕П шжБц▒В
**FFmpeg**: х┐Ещб╗хоЙшгЕхЬич│╗ч╗Яф╕нх╣╢щАЪш┐ЗхС╜ф╗дшбМхПпчФия╝ИVideo Concat хТМ Enhanced Video шКВчВ╣щЬАшжБцндщб╣я╝ЙуАВ

___

<a id="in"></a>
## IN рд╣рд┐рдиреНрджреА

# ComfyUI-SPoletNodes

**ComfyUI рдХреЗ рд▓рд┐рдП рдкреНрд░реЛрдлреЗрд╢рдирд▓ рдЯреВрд▓реНрд╕ рдХрд╛ рдкреВрд░рд╛ рд╕реЗрдЯ: рд╡реАрдбрд┐рдпреЛ, рдЗрдореЗрдЬ, рдореЗрдореЛрд░реА рдФрд░ рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдореИрдиреЗрдЬрдореЗрдВрдЯред**

---

## ЁЯУж рдкреИрдХреЗрдЬ рд╕рд╛рдордЧреНрд░реА (6 рдиреЛрдбреНрд╕)

### 1. ЁЯОм Enhanced Video Save'n'Preview (рдПрдиреНрд╣рд╛рдВрд╕реНрдб рд╡реАрдбрд┐рдпреЛ рд╕реЗрд╡ рдФрд░ рдкреНрд░рд┐рд╡реНрдпреВ)
рд╡реАрдбрд┐рдпреЛ рдкреНрд░рд┐рд╡реНрдпреВ рдФрд░ рд╕реЗрд╡ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдПрдбрд╡рд╛рдВрд╕ рдиреЛрдбред
- **рдлреЙрд░реНрдореЗрдЯреНрд╕:** MP4 (H264/H265), WebM (VP9), GIF, WebP.
- **рдлреАрдЪрд░реНрд╕:** рдСрдЯреЛрдкреНрд▓реЗ, рд▓реВрдк, рдореНрдпреВрдЯ, рдмреНрд░рд╛рдЗрдЯрдиреЗрд╕ рд╣рд┐рд╕реНрдЯреЛрдЧреНрд░рд╛рдоред
- **рд╕реБрд╡рд┐рдзрд╛:** рд╕реЗрд╡ рдлреЛрд▓реНрдбрд░ рдЪреБрдирдиреЗ рдХреЗ рд▓рд┐рдП рдЗрди-рдмрд┐рд▓реНрдЯ рдмреНрд░рд╛рдЙрдЬрд╝рд░ (`ЁЯУВ Choose Dir` рдмрдЯрди)ред

### 2. ЁЯУП Image Size Info & Edit (рдЗрдореЗрдЬ рд╕рд╛рдЗрдЬ рдЗрдиреНрдлреЛ рдФрд░ рдПрдбрд┐рдЯ)
рдЗрдореЗрдЬ рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рдХреЛ рдХрдВрдЯреНрд░реЛрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЯреВрд▓ред
- **рдЗрдиреНрдлреЛ рдкреИрдирд▓:** рдЗрдирдкреБрдЯ рдЗрдореЗрдЬ рдХрд╛ рдХрд░рдВрдЯ рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рджрд┐рдЦрд╛рддрд╛ рд╣реИред
- **рд╕реНрдорд╛рд░реНрдЯ рд░рд┐рд╕рд╛рдЗрдЬрд┐рдВрдЧ (Smart Resizing):** рд╕реНрдЯреЗрдкреНрд╕ (Steps) рдХреЗ рд╕рд╛рде рд╕рд╛рдЗрдЬ рдмрджрд▓рдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ред SDXL/Flux рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ (8, 16, 64 рдХреЗ рдЧреБрдгрдХ) рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЙрдкрдпреЛрдЧреА рд╣реИред
- **рдЗрдВрдЯрд░рдкреЛрд▓реЗрд╢рди:** рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХрд╛ рдЪрдпрди (Bicubic, Lanczos, Nearest, рдЖрджрд┐)ред
- **рдбрд╛рдпрдирд╛рдорд┐рдХ UI:** рдпрджрд┐ рдлрдВрдХреНрд╢рди рдмрдВрдж рд╣реИ, рддреЛ рд░рд┐рд╕рд╛рдЗрдЬ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдЫрд┐рдк рдЬрд╛рддреА рд╣реИрдВред

### 3. ЁЯУ╣ Video Batch Crossfade (рд╡реАрдбрд┐рдпреЛ рдмреИрдЪ рдХреНрд░реЙрд╕рдлреЗрдб)
рд╕реНрдореВрде рдЯреНрд░рд╛рдВрдЬрд┐рд╢рди рдХреЗ рд╕рд╛рде рдлреНрд░реЗрдо рдмреИрдЪреЛрдВ рдХреЛ рдЬреЛрдбрд╝рдирд╛ред
- рдПрдиреАрдореЗрд╢рди рдХреЗ рдЯреБрдХрдбрд╝реЛрдВ (рдЬреИрд╕реЗ AnimateDiff рд╕реЗ) рдХреЛ рдмрд┐рдирд╛ рдЭрдЯрдХреЗ рдХреЗ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред
- рдЯреНрд░рд╛рдВрдЬрд┐рд╢рди рдХрд░реНрд╡реНрд╕ рдХрд╛ рд╕рдорд░реНрдерди: Ease-In, Ease-Out, Linear.
- рдмреИрдЪреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдмрджрд▓рдиреЗ рдкрд░ рдСрдЯреЛрдореИрдЯрд┐рдХ рдЗрдирдкреБрдЯ рд╕реНрд▓реЙрдЯ рдмрди рдЬрд╛рддреЗ рд╣реИрдВред

### 4. ЁЯОе Video Concat (FFmpeg) (рд╡реАрдбрд┐рдпреЛ рдХреЙрдиреНрдХреИрдЯ)
рддреИрдпрд╛рд░ рд╡реАрдбрд┐рдпреЛ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдЯреВрд▓ред
- **рд╕реНрдорд╛рд░реНрдЯ рдХрд▓рд░ рдореИрдЪ (Smart Color Match):** рдЕрд▓рдЧ-рдЕрд▓рдЧ рдХреНрд▓рд┐рдк рдХреА рдмреНрд░рд╛рдЗрдЯрдиреЗрд╕, рдХрдВрдЯреНрд░рд╛рд╕реНрдЯ рдФрд░ рд╕реИрдЪреБрд░реЗрд╢рди рдХреЛ рдПрдХ рдЬреИрд╕рд╛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдбрдЬрд╕реНрдЯ рдХрд░рддрд╛ рд╣реИред
- **рдХреНрд░реЙрд╕рдлреЗрдб (Crossfade):** рд╡реАрдбрд┐рдпреЛ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рдмреАрдЪ рд╕реНрдореВрде рдЯреНрд░рд╛рдВрдЬрд┐рд╢рдиред
- **рдЗрдирдкреБрдЯ:** рдлрд╝рд╛рдЗрд▓ рд▓рд┐рд╕реНрдЯ рдпрд╛ рдкреВрд░реЗ рдлреЛрд▓реНрдбрд░ рдкрд╛рде рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИред

### 5. ЁЯТ╛ Save Images & Preview (Passthrough) (рд╕реЗрд╡ рдЗрдореЗрдЬ рдФрд░ рдкреНрд░рд┐рд╡реНрдпреВ)
рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХреЛ рддреЛрдбрд╝реЗ рдмрд┐рдирд╛ рдЗрдореЗрдЬ рд╕реЗрд╡ рдХрд░реЗрдВред
- рдпрд╣ рдПрдХ рд░рд┐рд▓реЗ (Passthrough) рдХреА рддрд░рд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ: рдЗрдореЗрдЬ рд╕реЗрд╡ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЖрдЧреЗ рднреЗрдЬрддрд╛ рд╣реИред
- рдЗрди-рдмрд┐рд▓реНрдЯ рдлреЛрд▓реНрдбрд░ рдмреНрд░рд╛рдЙрдЬрд╝рд░ред
- рдЖрдЬ рдХреА рддрд╛рд░реАрдЦ рдХреЗ рд╕рд╛рде рд╕рдм-рдлреЛрд▓реНрдбрд░ рдмрдирд╛рддрд╛ рд╣реИред

### 6. ЁЯз╣ Ultimate Memory Cleaner (рдЕрд▓реНрдЯреАрдореЗрдЯ рдореЗрдореЛрд░реА рдХреНрд▓реАрдирд░)
рдореЗрдореЛрд░реА рдХреА рдЧрд╣рд░реА рд╕рдлрд╛рдИ рдХреЗ рд▓рд┐рдП рд╕рд┐рд╕реНрдЯрдо рдпреВрдЯрд┐рд▓рд┐рдЯреАред
- рдореЙрдбрд▓ рдЕрдирд▓реЛрдб рдХрд░рддрд╛ рд╣реИ (Unload Models)ред
- PyTorch рдХреИрд╢ рд╕рд╛рдл рдХрд░рддрд╛ рд╣реИ (Soft Cache)ред
- Python рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣ (Garbage Collector) рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИред
- **рдЯрд╛рдЗрдорд░:** рдЬрдирд░реЗрд╢рди рдХреЗ рдмреАрдЪ GPU рдХреЛ рдардВрдбрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреЗрд░реА (Delay)ред

---

## ЁЯУе рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди (Installation)

### рддрд░реАрдХрд╛ 1: ComfyUI Manager
`ComfyUI-SPoletNodes` рдирд╛рдо рд╕реЗ рд╕рд░реНрдЪ рдХрд░реЗрдВ рдФрд░ Install рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред

### рддрд░реАрдХрд╛ 2: рдореИрдиреНрдпреБрдЕрд▓ (Git Clone)

1. `custom_nodes` рдлреЛрд▓реНрдбрд░ рдореЗрдВ рдЯрд░реНрдорд┐рдирд▓ рдЦреЛрд▓реЗрдВ:

```bash
cd ComfyUI/custom_nodes
```

2. рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреНрд▓реЛрди рдХрд░реЗрдВ :

```bash
git clone https://github.com/SergPoletaev/ComfyUI-SPoletNodes.git
```

3. ComfyUI рдХреЛ рд░реАрд╕реНрдЯрд╛рд░реНрдЯ рдХрд░реЗрдВред

---

### тЪая╕П рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдБ (Requirements)
**FFmpeg**: рдпрд╣ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдЗрдВрд╕реНрдЯреЙрд▓ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдкрд▓рдмреНрдз рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП (рдпрд╣ Video Concat рдФрд░ Enhanced Video рдиреЛрдбреНрд╕ рдХреЗ рд▓рд┐рдП рдЬрд░реВрд░реА рд╣реИ)ред

___

<a id="en"></a>
## EN English

# ComfyUI-SPoletNodes

**A comprehensive suite of professional tools for ComfyUI: Video, Image, Memory, and File System management.**

---

## ЁЯУж Suite Contents (6 Nodes)

### 1. ЁЯОм Enhanced Video Save'n'Preview
An advanced node for previewing and saving videos.
- **Formats:** MP4 (H264/H265), WebM (VP9), GIF, WebP.
- **Features:** Autoplay, Loop, Mute, Brightness Histogram.
- **Convenience:** Built-in file browser (`ЁЯУВ Choose Dir` button) to select the save folder directly within the UI.

### 2. ЁЯУП Image Size Info & Edit
A tool for controlling image resolution.
- **Info Panel:** Displays the current resolution of the input image.
- **Smart Resizing:** Ability to resize with a specific Step. Extremely useful for meeting SDXL/Flux requirements (multiples of 8, 16, 64).
- **Interpolation:** Select algorithms (Bicubic, Lanczos, Nearest, etc.).
- **Dynamic UI:** Resizing settings are hidden if the function is disabled.

### 3. ЁЯУ╣ Video Batch Crossfade
Stitches batches of frames together with smooth transitions.
- Allows connecting animation fragments (e.g., from AnimateDiff) without abrupt jumps.
- Supports transition curves: Ease-In, Ease-Out, Linear.
- Automatically creates input slots when changing the batch count.

### 4. ЁЯОе Video Concat (FFmpeg)
Powerful concatenation of existing video files.
- **Smart Color Match:** Intelligently adjusts brightness, contrast, and saturation of different clips to match a reference.
- **Crossfade:** Smooth transitions between video files.
- **Input:** Accepts lists of files or paths to entire folders.

### 5. ЁЯТ╛ Save Images & Preview (Passthrough)
Saves images without interrupting the workflow chain.
- Works as a relay (Passthrough): saves the image and passes it on.
- Built-in folder browser.
- Automatically creates subfolders with the current date.

### 6. ЁЯз╣ Ultimate Memory Cleaner
A system utility for deep memory cleaning.
- Unloads Models.
- Clears PyTorch Cache (Soft Cache).
- Triggers Python Garbage Collection (GC).
- **Timer:** Adds a delay to let the GPU cool down between generations.

---

## ЁЯУе Installation

### Option 1: ComfyUI Manager
Search for `ComfyUI-SPoletNodes` and click Install.

### Option 2: Manual (Git Clone)

1. Open a terminal in your `custom_nodes` folder:

```bash
cd ComfyUI/custom_nodes
```

2. Clone the repository:

```bash
git clone https://github.com/SergPoletaev/ComfyUI-SPoletNodes.git
```

3. Restart ComfyUI.

---

### тЪая╕П Requirements
### FFmpeg: Must be installed on your system and available via command line (required for Video Concat and Enhanced Video nodes).

---
___

### ЁЯУД License
MIT License
